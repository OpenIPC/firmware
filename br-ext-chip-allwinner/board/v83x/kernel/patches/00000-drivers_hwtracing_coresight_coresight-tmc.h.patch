diff -drupN a/drivers/hwtracing/coresight/coresight-tmc.h b/drivers/hwtracing/coresight/coresight-tmc.h
--- a/drivers/hwtracing/coresight/coresight-tmc.h	2018-08-06 17:23:04.000000000 +0300
+++ b/drivers/hwtracing/coresight/coresight-tmc.h	2022-06-12 05:28:14.000000000 +0300
@@ -117,7 +117,7 @@ struct tmc_drvdata {
 	void __iomem		*vaddr;
 	u32			size;
 	u32			len;
-	local_t			mode;
+	u32			mode;
 	enum tmc_config_type	config_type;
 	enum tmc_mem_intf_width	memwidth;
 	u32			trigger_cntr;
